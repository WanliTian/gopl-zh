## 2.3. 变量

var 声明可以创建一个特定类型的变量, 然后给变量附加一个名字, 并且设置变量的初始值. 变量声明的一般语法:

```Go
var name type = 表达式
```

其中类型或 `= 表达式` 可以省略其中的一个. 如果省略的是类型信息, 那么将根据初始化表达式类推导类型信息. 如果初始化表达式被省略, 那么将用零值初始化变量. 数值类型变量的零值是0, 布尔类型变量的零值是 false, 字符串的零值是空字符串, 接口或引用类型(包括 切片, 字典, 通道 和 函数)的变量的零值是 nil. 数组或结构体等聚合类型的零值是每个元素或字段都是零值.

零值机制可以确保每个声明的变量总是有一个良好定义的值, 在 Go 中不存在未初始化的变量. 这个可以简化很多代码, 在没有增加额外工作的前提下确保边界条件下的合理行为. 例如:

```Go
var s string
fmt.Println(s) // ""
```

这段代码将打印一个空字符串, 而不是导致错误或产生不可预知的行为. Go 程序员经常让一些聚合类型的零值也有意义, 这样不管任何类型的变量总是有一个合理的零值状态.

可以在一个声明语句中同时声明一组变量, 或用一组初始化表达式声明并初始化一组变量.
如果省略每个变量的类型, 将可以声明多个不同类型的变量(类型由初始化表达式推导):

```Go
var i, j, k int // int, int, int
var b, f, s = true, 2.3, "four" // bool, float64, string
```

初始化可以是字面量或任意的表达式. 包级别声明的变量会在 main 函数执行前完成初始化 (§2.6.2), 局部变量将在声明语句被执行到的时候初始化.

一组变量的初始化也可以通过调用一个函数, 由函数返回的多个返回值初始化:

```Go
var f, err = os.Open(name) // os.Open returns a file and an error
```

{% include "./ch2-03-1.md" %}

{% include "./ch2-03-2.md" %}

{% include "./ch2-03-3.md" %}

{% include "./ch2-03-4.md" %}



